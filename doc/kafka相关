
### 启动zookeeper
 /usr/local/zookeeper/bin/zkServer.sh restart

### 启动kafka
nohup ./kafka-server-start.sh ../config/server.properties 1>/dev/null 2>&1 & 


### 创建主题test

* --replication-factor 1 根据broke数量设置即可
/usr/local/kafka/bin/kafka-topics.sh --create --zookeeper CS-Kafka-B171:2181  --replication-factor 1 --partitions 3    --topic  apiweb_log


### 生产消息
cd /usr/local/kafka/bin
./kafka-console-producer.sh --broker-list 192.168.200.171:9092 --topic apiweb_log

### 消费消息
cd /usr/local/kafka/bin
./kafka-console-consumer.sh --zookeeper 192.168.200.171:2181 --topic apiweb_log --from-beginning

* 生产消息和消费消息联合测试是否正常，启用两个终端窗口，一边输入生产消息，消费输出消息即正常



### 查看所有主题
/usr/local/kafka/bin/kafka-topics.sh --list  --zookeeper 192.168.200.171:2181


[api_accountbasic_fangzhen, test, api_contactcard_fangzhen, fkafkav20, business-card-correct,
api_accountbasic, apiweb_log, fkafkav20_test, api_funccard_fangzhen, oradt_scancard, imorav20,
api_mapfriend_fangzhen, ok, api_scancard_fangzhen, __consumer_offsets, imorav20_test, wxapi_bizcardpoll]


 ### 删除topic 
 cd /usr/local/kafka/bin
./kafka-topics.sh  --delete --zookeeper 192.168.200.171:2181  --topic apiweb_log
```
此时你若想真正删除它，可以如下操作：
（1）登录zookeeper客户端的命令：
zookeeper/bin/zkCli.sh 

（2）找到topic所在的目录：
ls /brokers/topics

（3）找到要删除的topic，执行如下命令即可，此时topic被彻底删除：
rmr /brokers/topics/topic名称
```


 
